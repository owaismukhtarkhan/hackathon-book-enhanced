"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[447],{7071(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var i=s(4848),a=s(8453);const r={title:"Python-based ROS Packages",sidebar_label:"Python-based ROS Packages"},t="Python-based ROS Packages",o={id:"modules/week-03-05-ros2/python-ros-packages",title:"Python-based ROS Packages",description:"Introduction to ROS Packages",source:"@site/docs/modules/week-03-05-ros2/python-ros-packages.md",sourceDirName:"modules/week-03-05-ros2",slug:"/modules/week-03-05-ros2/python-ros-packages",permalink:"/hackathon-book-enhanced/docs/modules/week-03-05-ros2/python-ros-packages",draft:!1,unlisted:!1,editUrl:"https://github.com/owaismukhtarkhan/hackathon-book/tree/main/docs/modules/week-03-05-ros2/python-ros-packages.md",tags:[],version:"current",frontMatter:{title:"Python-based ROS Packages",sidebar_label:"Python-based ROS Packages"},sidebar:"tutorialSidebar",previous:{title:"Nodes, Topics, and Services",permalink:"/hackathon-book-enhanced/docs/modules/week-03-05-ros2/nodes-topics-services"},next:{title:"Gazebo Simulation Environment Setup",permalink:"/hackathon-book-enhanced/docs/modules/week-06-07-simulation/gazebo-setup"}},l={},c=[{value:"Introduction to ROS Packages",id:"introduction-to-ros-packages",level:2},{value:"Creating a Python Package",id:"creating-a-python-package",level:2},{value:"Package Structure",id:"package-structure",level:3},{value:"Package Manifest (package.xml)",id:"package-manifest-packagexml",level:3},{value:"Setup Configuration (setup.py)",id:"setup-configuration-setuppy",level:3},{value:"Creating a Publisher Node",id:"creating-a-publisher-node",level:2},{value:"Creating a Subscriber Node",id:"creating-a-subscriber-node",level:2},{value:"Launch Files",id:"launch-files",level:2},{value:"Building and Running",id:"building-and-running",level:2},{value:"Building the Package",id:"building-the-package",level:3},{value:"Sourcing the Environment",id:"sourcing-the-environment",level:3},{value:"Running Nodes",id:"running-nodes",level:3},{value:"Using Launch Files",id:"using-launch-files",level:3},{value:"Best Practices for Python ROS Packages",id:"best-practices-for-python-ros-packages",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"What&#39;s Next",id:"whats-next",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"python-based-ros-packages",children:"Python-based ROS Packages"}),"\n",(0,i.jsxs)("div",{className:"neon-border",style:{padding:"20px",borderRadius:"8px",backgroundColor:"var(--ifm-color-emphasis-100)"},children:[(0,i.jsx)(n.h2,{id:"introduction-to-ros-packages",children:"Introduction to ROS Packages"}),(0,i.jsx)(n.p,{children:"A ROS package is the fundamental unit of organization in ROS. It contains:"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Source code"})," (nodes, libraries, etc.)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Configuration files"})," (launch files, parameters)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resource files"})," (meshes, URDF models, etc.)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Package manifest"})," (package.xml)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Build configuration"})," (CMakeLists.txt or setup.py)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"creating-a-python-package",children:"Creating a Python Package"}),"\n",(0,i.jsx)(n.h3,{id:"package-structure",children:"Package Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"my_robot_package/\n\u251c\u2500\u2500 package.xml          # Package manifest\n\u251c\u2500\u2500 setup.py             # Python setup configuration\n\u251c\u2500\u2500 setup.cfg            # Installation configuration\n\u251c\u2500\u2500 resource/            # Resource files\n\u251c\u2500\u2500 launch/              # Launch files\n\u251c\u2500\u2500 config/              # Configuration files\n\u251c\u2500\u2500 test/                # Test files\n\u2514\u2500\u2500 my_robot_package/    # Python source code\n    \u251c\u2500\u2500 __init__.py\n    \u251c\u2500\u2500 publisher_member_function.py\n    \u2514\u2500\u2500 subscriber_member_function.py\n"})}),"\n",(0,i.jsx)(n.h3,{id:"package-manifest-packagexml",children:"Package Manifest (package.xml)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\n<package format="3">\n  <name>my_robot_package</name>\n  <version>0.0.0</version>\n  <description>Examples of minimal publisher/subscriber using rclpy</description>\n  <maintainer email="user@todo.todo">user</maintainer>\n  <license>Apache License 2.0</license>\n\n  <exec_depend>rclpy</exec_depend>\n  <exec_depend>std_msgs</exec_depend>\n\n  <test_depend>ament_copyright</test_depend>\n  <test_depend>ament_flake8</test_depend>\n  <test_depend>ament_pep257</test_depend>\n  <test_depend>python3-pytest</test_depend>\n\n  <export>\n    <build_type>ament_python</build_type>\n  </export>\n</package>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"setup-configuration-setuppy",children:"Setup Configuration (setup.py)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from setuptools import setup\n\npackage_name = 'my_robot_package'\n\nsetup(\n    name=package_name,\n    version='0.0.0',\n    packages=[package_name],\n    data_files=[\n        ('share/ament_index/resource_index/packages',\n            ['resource/my_robot_package']),\n        ('share/my_robot_package', ['package.xml']),\n    ],\n    install_requires=['setuptools'],\n    zip_safe=True,\n    maintainer='user',\n    maintainer_email='user@todo.todo',\n    description='Examples of minimal publisher/subscriber using rclpy',\n    license='Apache License 2.0',\n    tests_require=['pytest'],\n    entry_points={\n        'console_scripts': [\n            'talker = my_robot_package.publisher_member_function:main',\n            'listener = my_robot_package.subscriber_member_function:main',\n        ],\n    },\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"creating-a-publisher-node",children:"Creating a Publisher Node"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# publisher_member_function.py\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\n\nclass MinimalPublisher(Node):\n\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello World: %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_publisher = MinimalPublisher()\n    rclpy.spin(minimal_publisher)\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"creating-a-subscriber-node",children:"Creating a Subscriber Node"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# subscriber_member_function.py\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\n\nclass MinimalSubscriber(Node):\n\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_subscriber = MinimalSubscriber()\n    rclpy.spin(minimal_subscriber)\n    minimal_subscriber.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"launch-files",children:"Launch Files"}),"\n",(0,i.jsx)(n.p,{children:"Launch files allow you to start multiple nodes at once:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# launch/talker_listener.launch.py\nfrom launch import LaunchDescription\nfrom launch_ros.actions import Node\n\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='my_robot_package',\n            executable='talker',\n            name='talker',\n        ),\n        Node(\n            package='my_robot_package',\n            executable='listener',\n            name='listener',\n        )\n    ])\n"})}),"\n",(0,i.jsx)(n.h2,{id:"building-and-running",children:"Building and Running"}),"\n",(0,i.jsx)(n.h3,{id:"building-the-package",children:"Building the Package"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# From the workspace root\ncolcon build --packages-select my_robot_package\n"})}),"\n",(0,i.jsx)(n.h3,{id:"sourcing-the-environment",children:"Sourcing the Environment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"source install/setup.bash\n"})}),"\n",(0,i.jsx)(n.h3,{id:"running-nodes",children:"Running Nodes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run the publisher\nros2 run my_robot_package talker\n\n# In another terminal, run the subscriber\nros2 run my_robot_package listener\n"})}),"\n",(0,i.jsx)(n.h3,{id:"using-launch-files",children:"Using Launch Files"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_robot_package talker_listener.launch.py\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices-for-python-ros-packages",children:"Best Practices for Python ROS Packages"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Structure"}),": Follow the standard ROS package structure"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Naming"}),": Use snake_case for package names and file names"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Documentation"}),": Include proper docstrings and comments"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Testing"}),": Write unit tests for your nodes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Handling"}),": Implement proper exception handling"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Logging"}),": Use ROS logging facilities appropriately"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parameters"}),": Use ROS parameters for configurable values"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsx)(n.p,{children:"By the end of this module, you will be able to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create properly structured Python-based ROS 2 packages"}),"\n",(0,i.jsx)(n.li,{children:"Implement publisher and subscriber nodes in Python"}),"\n",(0,i.jsx)(n.li,{children:"Configure package manifests and setup files"}),"\n",(0,i.jsx)(n.li,{children:"Use launch files to manage multiple nodes"}),"\n",(0,i.jsx)(n.li,{children:"Follow ROS 2 best practices for Python development"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"whats-next",children:"What's Next"}),"\n",(0,i.jsx)(n.p,{children:"Now that you understand the fundamentals of ROS 2 and how to create Python packages, you'll learn about robot simulation environments using Gazebo in the next module."})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>o});var i=s(6540);const a={},r=i.createContext(a);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);